{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport axios from 'axios';\nlet all_games_url = \"http://localhost:8080/api/odds.json?sport=nfl\";\nexport default {\n  name: \"ShowPicks\",\n\n  data() {\n    return {\n      games: null,\n      picks: [],\n      sample_spread: 7,\n      sample_ou: 48.5,\n      editIndex: -1,\n      fontSize: 15,\n      textSizeControlStyle: {\n        textAlign: 'center',\n        cursor: 'pointer'\n      }\n    };\n  },\n\n  methods: {\n    selectpicks() {\n      // Sends picks to SelectedPicks page where user will then submit picks\n      console.log(\"USERS PICKS:\");\n      console.log(this.picks);\n      this.$router.push({\n        name: \"SelectedPicks\",\n        params: {\n          picks: this.picks\n        }\n      });\n    },\n\n    validGame(game_date) {\n      // Checks if the game is valid to be shown\n      // let today = new Date();\n      // let next_mon = today.setDate(today.getDate() + (((1 + 7 - today.getDay()) % 7) || 7));\n      // let now = Date.now();\n      // if (now >= game_date) {\n      //     return false\n      // }\n      // else if (game_date > next_mon){\n      //     return false\n      // }\n      // else {\n      //     return true\n      // }\n      // FCT COMMENTED OUT FOR PRESEASON\n      console.log(game_date);\n      return true;\n    },\n\n    epochToDate(game_date) {\n      // converts epoch to clean date\n      let date = new Date(game_date);\n      let iso = date.toLocaleDateString(\"en-US\");\n      return iso;\n    },\n\n    favOrDog(game_odds) {\n      // renders clean spread in UI depending on data passed\n      let spread = new String(game_odds.spread);\n\n      if (spread.includes(\"-\")) {\n        return [spread.replace(\"-\", \"+\"), spread];\n      } else {\n        return [\"-\" + spread, \"+\" + spread];\n      }\n    },\n\n    useDraftkings(game_odds_all_providers) {\n      // Loops through providers to find and return DRAFTKINGS\n      let num_prov = game_odds_all_providers.length;\n\n      for (var i = 0; i < num_prov; i++) {\n        var provider = game_odds_all_providers[i].provider;\n\n        if (provider === \"DRAFTKINGS\") {\n          return game_odds_all_providers[i];\n        }\n      }\n    }\n\n  },\n\n  mounted() {\n    console.log('got to mount.');\n    axios.get(all_games_url).then(response => {\n      console.log('SUCCESS'); // Only send next 20 games. No need to send more\n\n      console.log(response.data.results.slice(0, 20));\n      this.games = response.data.results.slice(0, 20);\n    }).catch(error => {\n      console.log(error);\n      this.errored = true;\n    });\n  }\n\n};","map":{"version":3,"mappings":";AA4DA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAIC,aAAY,GAAI,+CAApB;AAEA,eAAe;EACXC,IAAI,EAAE,WADK;;EAEXC,IAAI,GAAG;IACH,OAAO;MACHC,KAAK,EAAC,IADH;MAEHC,KAAK,EAAE,EAFJ;MAGHC,aAAa,EAAE,CAHZ;MAIHC,SAAS,EAAE,IAJR;MAKHC,SAAS,EAAE,CAAC,CALT;MAMHC,QAAQ,EAAE,EANP;MAOHC,oBAAoB,EAAE;QAClBC,SAAS,EAAC,QADQ;QAElBC,MAAM,EAAE;MAFU;IAPnB,CAAP;EAYH,CAfU;;EAgBXC,OAAO,EAAE;IACLC,WAAW,GAAG;MACV;MACAC,OAAO,CAACC,GAAR,CAAY,cAAZ;MACAD,OAAO,CAACC,GAAR,CAAY,KAAKX,KAAjB;MACA,KAAKY,OAAL,CAAaC,IAAb,CAAkB;QAAChB,IAAI,EAAC,eAAN;QACCiB,MAAM,EAAE;UAAEd,KAAK,EAAE,KAAKA;QAAd;MADT,CAAlB;IAIH,CATI;;IAULe,SAAS,CAACC,SAAD,EAAY;MACjB;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MAEA;MACAN,OAAO,CAACC,GAAR,CAAYK,SAAZ;MACA,OAAO,IAAP;IACH,CA5BI;;IA6BLC,WAAW,CAACD,SAAD,EAAY;MACnB;MACA,IAAIE,IAAG,GAAI,IAAIC,IAAJ,CAASH,SAAT,CAAX;MACA,IAAII,GAAE,GAAIF,IAAI,CAACG,kBAAL,CAAwB,OAAxB,CAAV;MACA,OAAOD,GAAP;IACH,CAlCI;;IAmCLE,QAAQ,CAACC,SAAD,EAAY;MAChB;MACA,IAAIC,MAAK,GAAI,IAAIC,MAAJ,CAAWF,SAAS,CAACC,MAArB,CAAb;;MACA,IAAIA,MAAM,CAACE,QAAP,CAAgB,GAAhB,CAAJ,EAA0B;QACtB,OAAO,CAACF,MAAM,CAACG,OAAP,CAAe,GAAf,EAAmB,GAAnB,CAAD,EAAyBH,MAAzB,CAAP;MACJ,CAFA,MAGK;QACD,OAAO,CAAC,MAAIA,MAAL,EAAa,MAAIA,MAAjB,CAAP;MACJ;IACH,CA5CI;;IA6CLI,aAAa,CAACC,uBAAD,EAA0B;MACnC;MACA,IAAIC,QAAO,GAAKD,uBAAuB,CAACE,MAAxC;;MACA,KAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIF,QAApB,EAA8BE,CAAC,EAA/B,EAAmC;QAC/B,IAAIC,QAAO,GAAIJ,uBAAuB,CAACG,CAAD,CAAvB,CAA2BC,QAA1C;;QACA,IAAIA,QAAO,KAAM,YAAjB,EAA+B;UAC3B,OAAOJ,uBAAuB,CAACG,CAAD,CAA9B;QACJ;MACJ;IACJ;;EAtDK,CAhBE;;EAwEXE,OAAO,GAAG;IACNxB,OAAO,CAACC,GAAR,CAAY,eAAZ;IACAhB,KAAI,CACHwC,GADD,CACKvC,aADL,EAECwC,IAFD,CAEMC,QAAO,IAAK;MACd3B,OAAO,CAACC,GAAR,CAAY,SAAZ,EADc,CAEd;;MACAD,OAAO,CAACC,GAAR,CAAY0B,QAAQ,CAACvC,IAAT,CAAcwC,OAAd,CAAsBC,KAAtB,CAA4B,CAA5B,EAA8B,EAA9B,CAAZ;MACA,KAAKxC,KAAL,GAAasC,QAAQ,CAACvC,IAAT,CAAcwC,OAAd,CAAsBC,KAAtB,CAA4B,CAA5B,EAA8B,EAA9B,CAAb;IACC,CAPL,EAQCC,KARD,CAQOC,KAAI,IAAK;MACZ/B,OAAO,CAACC,GAAR,CAAY8B,KAAZ;MACA,KAAKC,OAAL,GAAe,IAAf;IACC,CAXL;EAYJ;;AAtFW,CAAf","names":["axios","all_games_url","name","data","games","picks","sample_spread","sample_ou","editIndex","fontSize","textSizeControlStyle","textAlign","cursor","methods","selectpicks","console","log","$router","push","params","validGame","game_date","epochToDate","date","Date","iso","toLocaleDateString","favOrDog","game_odds","spread","String","includes","replace","useDraftkings","game_odds_all_providers","num_prov","length","i","provider","mounted","get","then","response","results","slice","catch","error","errored"],"sourceRoot":"","sources":["/Users/mabbate/michael-abbate/pickem-app-vue/pickem-app/src/views/ShowPicks.vue"],"sourcesContent":["<template>\n    <div id=\"show-picks\">\n        \n        <div id=\"selected-picks\">\n            <strong>\n            Selected Picks:             \n                <ul>\n                    <li v-for=\"(pick,index) in picks\"\n                        :key = \"index\"\n                        :id=\"pick+'selected-pick'\">\n                        {{ pick }}\n                    </li>\n                </ul>\n            </strong>\n            <button @click = \"selectpicks()\">Select</button>\n        </div>\n        <div id=\"all-game-tables\">\n            <div v-cloak v-for=\"(game,index) in games\" :key = \"game.gameID\" :class=\"game.gameID+'game-table'\">\n                <table v-if=\"validGame(game.date)\" :class=\"game.gameID+'game-table'\">\n                    <tr :class=\"'away-row-'+index+'-'+game.gameID\">\n                        <td rowspan = \"2\">  {{ epochToDate(game.date) }}      </td>\n                        <td class = \"matchup-cell\">\n                            {{ game.team1Name }}                    \n                        </td>\n                        <td class=\"pickem-cell\">          \n                            <label :for=\"game.gameID+'-away-label'\"></label>\n                            <input v-model=\"picks\" type=\"checkbox\" :id=\"game.gameID+'-away-label'\" :value=\"game.team1Name + favOrDog(useDraftkings(game.odds))[0]\">\n                                {{ favOrDog(useDraftkings(game.odds))[0] }}\n                        </td>\n                        <td class=\"pickem-cell\">\n                            <label :for=\"game.gameID+'-over-label'\"></label>\n                            <input v-model=\"picks\" type=\"checkbox\" :id=\"game.gameID+'-over-label'\" :value=\"game.team2Name + 'vs.' + game.team1Name + 'o' + useDraftkings(game.odds).overUnder\">\n                                o{{ useDraftkings(game.odds).overUnder }}\n                        </td>     \n                    </tr>        \n                    <tr :class=\"'home-row-'+index+'-'+game.gameID\">\n                        <td v-text = \"game.team2Name\" class = \"matchup-cell\">\n                        </td>\n                        <td class=\"pickem-cell\">\n                            <label :for=\"game.gameID+'-home-label'\"></label>\n                            <input v-model=\"picks\" type=\"checkbox\" :id=\"game.gameID+'-home-label'\" :value=\"game.team2Name + favOrDog(useDraftkings(game.odds))[1]\">\n                                {{ favOrDog(useDraftkings(game.odds))[1] }}\n                        </td>\n                        <td class=\"pickem-cell\">         \n                            <label :for=\"game.gameID+'-under-label'\"></label>\n                            <input v-model=\"picks\" type=\"checkbox\" :id=\"game.gameID+'-under-label'\" :value=\"game.team2Name + 'vs.' + game.team1Name + 'u' + useDraftkings(game.odds).overUnder\">\n                                u{{ useDraftkings(game.odds).overUnder }}         \n                        </td>     \n                    </tr>\n                    <tr><td colspan=\"4\"><hr></td></tr>\n                </table>\n            </div>\n        </div>\n        \n    </div>\n</template>\n\n\n<script>\n\nimport axios from 'axios';\n\nlet all_games_url = \"http://localhost:8080/api/odds.json?sport=nfl\"\n\nexport default {\n    name: \"ShowPicks\",\n    data() {\n        return {\n            games:null,\n            picks: [],                    \n            sample_spread: 7,\n            sample_ou: 48.5,\n            editIndex: -1,\n            fontSize: 15,\n            textSizeControlStyle: {\n                textAlign:'center',\n                cursor: 'pointer'\n            }\n        }\n    },\n    methods: {    \n        selectpicks() {\n            // Sends picks to SelectedPicks page where user will then submit picks\n            console.log(\"USERS PICKS:\");\n            console.log(this.picks);\n            this.$router.push({name:\"SelectedPicks\"\n                              ,params: { picks: this.picks }\n                              }\n                              );\n        },\n        validGame(game_date) {\n            // Checks if the game is valid to be shown\n            // let today = new Date();\n            // let next_mon = today.setDate(today.getDate() + (((1 + 7 - today.getDay()) % 7) || 7));\n            // let now = Date.now();\n            // if (now >= game_date) {\n            //     return false\n            // }\n            // else if (game_date > next_mon){\n            //     return false\n            // }\n            // else {\n            //     return true\n            // }\n            \n            // FCT COMMENTED OUT FOR PRESEASON\n            console.log(game_date);\n            return true\n        },\n        epochToDate(game_date) {\n            // converts epoch to clean date\n            let date = new Date(game_date);\n            let iso = date.toLocaleDateString(\"en-US\")\n            return iso\n        },\n        favOrDog(game_odds) {\n            // renders clean spread in UI depending on data passed\n            let spread = new String(game_odds.spread);\n            if (spread.includes(\"-\")) {\n                return [spread.replace(\"-\",\"+\"),spread]\n            }\n            else {\n                return [\"-\"+spread, \"+\"+spread]\n            }\n        },\n        useDraftkings(game_odds_all_providers) {\n            // Loops through providers to find and return DRAFTKINGS\n            let num_prov =  game_odds_all_providers.length;\n            for (var i = 0; i < num_prov; i++) {\n                var provider = game_odds_all_providers[i].provider;\n                if (provider === \"DRAFTKINGS\") {\n                    return game_odds_all_providers[i]\n                }\n            }\n        }\n    },\n    mounted() {\n        console.log('got to mount.')\n        axios\n        .get(all_games_url)\n        .then(response => {\n            console.log('SUCCESS');\n            // Only send next 20 games. No need to send more\n            console.log(response.data.results.slice(0,20));\n            this.games = response.data.results.slice(0,20)\n            })\n        .catch(error => {\n            console.log(error)\n            this.errored = true\n            })\n    }\n}\n\n</script>\n\n<style scoped>\n\n#all-game-tables {\n    margin:0 auto;\n    width:90%\n}\ntable {\n    margin: 0 auto;\n    border-collapse:separate; \n    border-spacing:.5em!important;\n    \n}\n.matchup-cell {\n    padding-right:.5em;\n    width: 5em;\n}\n.pickem-cell {\n    padding: 15px;\n    border:solid 2px dodgerblue;\n    background: white;\n    color: dodgerblue;\n    margin: 0 auto;\n    cursor: pointer;\n    border-radius:5px;\n    text-align:center;\n    width: 6em;\n    height:1em;\n    font-size: 1.1vw;\n}\n\n.pickem-cell:hover  {\n    background-color: dodgerblue;\n    color:white;\n    cursor:pointer;\n}\n\n#selected-picks {\n    float:right;\n    height:auto;\n    position: sticky;\n    top:0;\n    right:0;\n    z-index:10;\n    border: 1px solid black;\n    padding:15px;\n    margin-top:10px;\n    margin-left:50px;\n    margin-right:50px;\n    margin-bottom:50px;\n    width:10%;\n}\n</style>"]},"metadata":{},"sourceType":"module"}