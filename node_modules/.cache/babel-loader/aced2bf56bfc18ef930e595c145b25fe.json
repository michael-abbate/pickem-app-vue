{"ast":null,"code":"import \"core-js/modules/es.array.includes.js\";\nimport axios from 'axios';\nlet all_games_url = \"http://localhost:8080/api/odds.json?sport=nfl\";\nexport default {\n  name: \"ShowPicks\",\n\n  data() {\n    return {\n      games: null,\n      picks: [],\n      sample_spread: 7,\n      sample_ou: 48.5,\n      editIndex: -1,\n      fontSize: 15,\n      textSizeControlStyle: {\n        textAlign: 'center',\n        cursor: 'pointer'\n      }\n    };\n  },\n\n  methods: {\n    selectpicks() {\n      console.log(\"USERS PICKS:\");\n      console.log(this.picks);\n      this.$router.push({\n        name: \"SelectedPicks\",\n        params: {\n          picks: this.picks\n        }\n      });\n    },\n\n    validGame(game_date) {\n      // Checks if the game is valid to be shown\n      let today = new Date();\n      let next_mon = today.setDate(today.getDate() + ((1 + 7 - today.getDay()) % 7 || 7));\n      let now = Date.now();\n\n      if (now >= game_date) {\n        return false;\n      } else if (game_date > next_mon) {\n        return false;\n      } else {\n        return true;\n      }\n    },\n\n    epochToDate(game_date) {\n      let date = new Date(game_date);\n      let iso = date.toLocaleDateString(\"en-US\");\n      return iso;\n    },\n\n    favOrDog(game_odds) {\n      let spread = new String(game_odds.spread);\n\n      if (spread.includes(\"-\")) {\n        return [\"+\" + spread, \"-\" + spread];\n      } else {\n        return [\"-\" + spread, \"+\" + spread];\n      }\n    },\n\n    useDraftkings(game_odds_all_providers) {\n      let num_prov = game_odds_all_providers.length;\n\n      for (var i = 0; i < num_prov; i++) {\n        var provider = game_odds_all_providers[i].provider;\n\n        if (provider === \"DRAFTKINGS\") {\n          return game_odds_all_providers[i];\n        }\n      }\n    }\n\n  },\n\n  mounted() {\n    axios.get(all_games_url).then(response => {\n      console.log('SUCCESS');\n      console.log(response.data.results);\n      this.games = response.data.results;\n    }).catch(error => {\n      console.log(error);\n      this.errored = true;\n    });\n  }\n\n};","map":{"version":3,"mappings":"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","names":["axios","all_games_url","name","data","games","picks","sample_spread","sample_ou","editIndex","fontSize","textSizeControlStyle","textAlign","cursor","methods","selectpicks","console","log","$router","push","params","validGame","game_date","today","Date","next_mon","setDate","getDate","getDay","now","epochToDate","date","iso","toLocaleDateString","favOrDog","game_odds","spread","String","includes","useDraftkings","game_odds_all_providers","num_prov","length","i","provider","mounted","get","then","response","results","catch","error","errored"],"sourceRoot":"","sources":["/Users/mabbate/michael-abbate/pickem-app-vue/pickem-app/src/views/ShowPicks.vue"],"sourcesContent":["<template>\n    <!-- <router-link :to=\"{ name: 'SelectedPicks', params: { selectedpicks: picks } }\">Go to Select</router-link> -->\n    <div id=\"show-picks\">\n        <button @click = \"selectpicks()\">Select</button>\n        <div>\n            selected picks: <strong>{{ picks }}</strong>\n        </div>\n        <div v-cloak v-for=\"(game,index) in games\" :key = \"game.gameID\" :class=\"game.gameID+'game-table'\">\n            <table v-if=\"validGame(game.date)\" :class=\"game.gameID+'game-table'\">\n                <tr :class=\"'away-row-'+index+'-'+game.gameID\">\n                    <td rowspan = \"2\">  {{ epochToDate(game.date) }}      </td>\n                    <td class = \"matchup-cell\">\n                        {{ game.team1Name }}                    \n                    </td>\n                    <!-- need to do a check for fav/dog and o/u -->\n                    <!-- hit the api to get the data then run the check mentioned above -->\n                    <td class=\"pickem-cell\">          \n                        <label :for=\"game.gameID+'-away-label'\"></label>\n                        <input v-model=\"picks\" type=\"checkbox\" :id=\"game.gameID+'-away-label'\" :value=\"game.team1Name + sample_spread\">\n                        {{ favOrDog(useDraftkings(game.odds))[0] }}\n                    </td>\n                    <td class=\"pickem-cell\">\n                        o{{ sample_ou }}\n                    </td>     \n                </tr>        \n                <tr :class=\"'home-row-'+index+'-'+game.gameID\">\n                    <td v-text = \"game.team2Name\" class = \"matchup-cell\">\n                    </td>\n                    <td class=\"pickem-cell\">\n                        <label :for=\"game.gameID+'-home-label'\"></label>\n                        <input v-model=\"picks\" type=\"checkbox\" :id=\"game.gameID+'-home-label'\" :value=\"game.team2Name + sample_spread\">\n                        {{ favOrDog(useDraftkings(game.odds))[1] }}\n                    </td>\n                    <td v-text = \"'u'+sample_ou\" class=\"pickem-cell\">                    \n                    </td>     \n                </tr>\n                <tr><td colspan=\"4\"><hr></td></tr>\n            </table>\n        </div>\n    </div>\n</template>\n\n\n<script>\n\nimport axios from 'axios';\n\nlet all_games_url = \"http://localhost:8080/api/odds.json?sport=nfl\"\n\nexport default {\n    name: \"ShowPicks\",\n    data() {\n        return {\n            games:null,\n            picks: [],                    \n            sample_spread: 7,\n            sample_ou: 48.5,\n            editIndex: -1,\n            fontSize: 15,\n            textSizeControlStyle: {\n                textAlign:'center',\n                cursor: 'pointer'\n            }\n        }\n    },\n    methods: {    \n        selectpicks() {\n            console.log(\"USERS PICKS:\");\n            console.log(this.picks);\n            this.$router.push({name:\"SelectedPicks\"\n                              ,params: { picks: this.picks }\n                              }\n                              );\n        },\n        validGame(game_date) {\n            // Checks if the game is valid to be shown\n            let today = new Date();\n            let next_mon = today.setDate(today.getDate() + (((1 + 7 - today.getDay()) % 7) || 7));\n            let now = Date.now();\n            if (now >= game_date) {\n                return false\n            }\n            else if (game_date > next_mon){\n                return false\n            }\n            else {\n                return true\n            }\n        },\n        epochToDate(game_date) {\n            let date = new Date(game_date);\n            let iso = date.toLocaleDateString(\"en-US\")\n            return iso\n        },\n        favOrDog(game_odds) {\n            let spread = new String(game_odds.spread);\n            if (spread.includes(\"-\")) {\n                return [\"+\"+spread,\"-\"+spread]\n            }\n            else {\n                return [\"-\"+spread,\"+\"+spread]\n            }\n        },\n        useDraftkings(game_odds_all_providers) {\n            let num_prov =  game_odds_all_providers.length;\n            for (var i = 0; i < num_prov; i++) {\n                var provider = game_odds_all_providers[i].provider;\n                if (provider === \"DRAFTKINGS\") {\n                    return game_odds_all_providers[i]\n                }\n            }\n        }\n    },\n    mounted() {\n        axios\n        .get(all_games_url)\n        .then(response => {\n            console.log('SUCCESS');\n            console.log(response.data.results);\n            this.games = response.data.results\n            })\n        .catch(error => {\n            console.log(error)\n            this.errored = true\n            })\n    }\n}\n\n</script>\n\n<style scoped>\n\ntable {\n    margin: 0 auto;\n    border-collapse:separate; \n    border-spacing:.5em!important;\n    \n}\n.matchup-cell {\n    padding-right:.5em;\n    width: 5em;\n}\n.pickem-cell {\n    padding: 15px;\n    border:solid 2px dodgerblue;\n    background: white;\n    color: dodgerblue;\n    margin: 0 auto;\n    cursor: pointer;\n    border-radius:5px;\n    text-align:center;\n    width: 6em;\n    height:1em;\n    font-size: 1.1vw;\n}\n\n.pickem-cell:hover  {\n    background-color: dodgerblue;\n    color:white;\n    cursor:pointer;\n}\n</style>"]},"metadata":{},"sourceType":"module"}